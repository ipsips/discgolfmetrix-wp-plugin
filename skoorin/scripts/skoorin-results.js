!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(1);for(var l=n(2),u=n(3),c=n(11),f=n(32),d=r(f),p=n(34),h=r(p),y=n(35),v=r(y),m=n(37),b=r(m),g=n(36),w={loading:function(e,t){switch(t.type){case"FETCH_RESULTS_REQ":return!0;case"FETCH_RESULTS_RES":case"FETCH_RESULTS_ERR":return!1;default:return e}},data:function(e,t){switch(t.type){case"FETCH_RESULTS_RES":var n=!!(0,g.getDeepProp)(t,"response.Competition");return n||alert(window.skoorinResults.l10n.missing_data_error),n?s({},e,{results:t.response}):e;case"FETCH_FILTER_RES":var r=!!(0,g.getDeepProp)(t,"response.competitions");return r||alert(window.skoorinResults.l10n.missing_data_error),r?s({},e,{filters:t.response}):e;case"FETCH_RESULTS_ERR":case"FETCH_FILTER_ERR":alert(window.skoorinResults.l10n.network_error);default:return e}},filters:function(e,t){if("FILTER"!=t.type)return e;var n={};for(var r in e)n[r]="players"==r?{selected:"all",lastChanged:Date.now()}:"all";return s({},n,t.payload)}},S=function(){function e(t,n){var r=this;i(this,e),this.onCompetitionSelect=function(e){r.store.dispatch({type:"FILTER",payload:{}}),r.store.dispatch({type:"API_REQ",payload:{types:["FETCH_RESULTS_REQ","FETCH_RESULTS_RES","FETCH_RESULTS_ERR"],query:"content=result&id="+e}}),r.store.dispatch({type:"API_REQ",payload:{types:["FETCH_FILTER_REQ","FETCH_FILTER_RES","FETCH_FILTER_ERR"],query:"content=wordpress_filters&competition_id="+e}})},this.el=t,this.competitionId=this.el.dataset.competitionId,this.store=(0,c.createStore)(function(e,t){return{loading:w.loading(e.loading,t),data:w.data(e.data,t),filters:w.filters(e.filters,t)}},this.getInitialState(n),(0,c.applyMiddleware)(d.default)),this.store.subscribe(function(){return r.setState(r.store.getState())}),this.setState(this.store.getState()),this.refetchInSeconds(30)}return a(e,[{key:"getInitialState",value:function(e){return{loading:!1,data:e,filters:this.initFilters(e.filters_selected,e.filters)}}},{key:"setState",value:function(e){this.state=s({},this.state,e),this.render()}},{key:"initFilters",value:function(e,t){var n=this,r={};return this.filters={},e.forEach(function(e){if("competitions"!=e){var t=n.el.querySelector(".skoorin-results-filter-control-select-"+e),o=t.querySelector('select[name="'+e+'"]');n.filters[e]={container:t,select:o},"players"==e?r[e]={selected:(0,g.getMultiSelectValue)(o),lastChanged:Date.now()}:r[e]=o.value}}),r}},{key:"render",value:function(){var e=(0,g.getDeepProp)(this.state,"data.results.Competition"),t=e.ID;t&&t!=this.competitionId&&(this.refetchInSeconds(30),this.competitionId=t),this.table?this.table.setState(this.state):this.table=new b.default(this.el.querySelector(".skoorin-results-table"),this.state),this.competitionSelect||(this.competitionSelect=new h.default(this.el.querySelector(".skoorin-select-competitions"),this.onCompetitionSelect));for(var n in this.filters)"players"==n?this.playersFilter?this.playersFilter.setState(this.state):this.playersFilter=new v.default(this.filters[n],this.state,this.store):this.renderFilter(n)}},{key:"renderFilter",value:function(e){var t,n=this.state.filters[e],r=(0,g.getDeepProp)(this.state,["data","filters",e]),i=(0,l.html)("div",{class:(t={},o(t,"skoorin-results-filter-control-select-"+e,1),o(t,"no-options",!Array.isArray(r)||!r.length),t)},(0,l.html)("select",{name:e,"on-change":this.onChangeFilter.bind(this,e)},(0,l.html)("option",{value:"all",selected:"all"==n},window.skoorinResults.l10n.all[e]),Array.isArray(r)?r.map(function(t){var r="groups"==e?t.Number:t.Name;return(0,l.html)("option",{value:r,selected:n==r},r)}):""));this.filters[e].container instanceof Element&&(this.filters[e].container.innerHTML=""),this.filters[e].container=(0,u.patch)(this.filters[e].container,i)}},{key:"onChangeFilter",value:function(e,t){this.store.dispatch({type:"FILTER",payload:o({},e,t.target.value)})}},{key:"refetchInSeconds",value:function(e){var t=this;clearTimeout(this.refetchTimer),this.refetchTimer=setTimeout(function(){var n=(0,g.getDeepProp)(t.state,"data.results.Competition"),r=n.ID;r&&t.store.dispatch({type:"API_REQ",payload:{types:["FETCH_RESULTS_REQ","FETCH_RESULTS_RES","FETCH_RESULTS_ERR"],query:"content=result&id="+r}}),t.refetchInSeconds(e)},1e3*e)}}]),e}(),x=document.querySelectorAll(".skoorin-results"),k=0;k<x.length;k++){var E=void 0;try{E=JSON.parse(x[k].querySelector(".skoorin-results-data").innerHTML)}catch(e){console.error("Could not parse results data. This could mean there was a network error when getting the data from Skoorin data API.\n",e);break}new S(x[k],E)}},function(e,t){"use strict";window.optimizedResize=function(){function e(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){r.forEach(function(e){e()}),o=!1}function n(e){e&&r.push(e)}var r=[],o=!1;return{add:function(t){r.length||window.addEventListener("resize",e),n(t)},remove:function(t){var n=r.indexOf(t);n<0||(r.splice(n,1),r.length||window.removeEventListener("resize",e))}}}()},function(e,t){"use strict";function n(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||null===e||void 0===e}function r(e,t,n,r){function o(e,t,n){var r=i[e]||(i[e]={});r[t]=n}for(var i={ns:t},a=0,s=r.length;a<s;a++){var l=r[a];e[l]&&(i[l]=e[l])}for(var u in e)if("key"!==u&&"classNames"!==u&&"selector"!==u){var c=u.indexOf("-");c>0?o(u.slice(0,c),u.slice(c+1),e[u]):i[u]||o(n,u,e[u])}return i}function o(e,t,o,i,a,s){if(a.selector&&(i+=a.selector),a.classNames){var l=a.classNames;i=i+"."+(Array.isArray(l)?l.join("."):l.replace(/\s+/g,"."))}return{sel:i,data:r(a,e,t,o),children:s.map(function(e){return n(e)?{text:e}:e}),key:a.key}}function i(e,t,n,r,o,i){var a;if("function"==typeof r)a=r(o,i);else if(r&&"function"==typeof r.view)a=r.view(o,i);else{if(!r||"function"!=typeof r.render)throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";a=r.render(o,i)}return a.key=o.key,a}function a(e,t,n){for(var r=t,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?a(i,0,n):n.push(i)}}function s(e){if(e)for(var t=0,n=e.length;t<n;t++)if(Array.isArray(e[t])){var r=e.slice(0,t);a(e,t,r),e=r;break}return e}function l(e,t,n,r,a,l){return a=a||{},l=s(l),"string"==typeof r?o(e,t,n,r,a,l):i(e,t,n,r,a,l)}function u(e,t,n){return function(r,o,i){return(arguments.length>3||!Array.isArray(i))&&(i=d.call(arguments,2)),l(e,t||"props",n||f,r,o,i)}}var c="http://www.w3.org/2000/svg",f=["hook","on","style","class","props","attrs"],d=Array.prototype.slice;e.exports={html:u(void 0),svg:u(c,"attrs"),JSX:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.patch=void 0;var o=n(4),i=r(o),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c);t.patch=i.default.init([s.default,u.default,f.default])},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return void 0!==e}function i(e,t){return e.key===t.key&&e.sel===t.sel}function a(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,o(i)&&(a[i]=r);return a}function s(e,t){function n(e){var n=e.id?"#"+e.id:"",r=e.className?"."+e.className.split(" ").join("."):"";return l(t.tagName(e).toLowerCase()+n+r,{},[],void 0,e)}function s(e,n){return function(){if(0===--n){var r=t.parentNode(e);t.removeChild(r,e)}}}function p(e,n){var r,i=e.data;o(i)&&o(r=i.hook)&&o(r=r.init)&&(r(e),i=e.data);var a,s=e.children,l=e.sel;if(o(l)){var c=l.indexOf("#"),d=l.indexOf(".",c),h=c>0?c:l.length,y=d>0?d:l.length,v=c!==-1||d!==-1?l.slice(0,Math.min(h,y)):l;if(a=e.elm=o(i)&&o(r=i.ns)?t.createElementNS(r,v):t.createElement(v),h<y&&(a.id=l.slice(h+1,y)),d>0&&(a.className=l.slice(y+1).replace(/\./g," ")),u.array(s))for(r=0;r<s.length;++r)t.appendChild(a,p(s[r],n));else u.primitive(e.text)&&t.appendChild(a,t.createTextNode(e.text));for(r=0;r<S.create.length;++r)S.create[r](f,e);r=e.data.hook,o(r)&&(r.create&&r.create(f,e),r.insert&&n.push(e))}else a=e.elm=t.createTextNode(e.text);return e.elm}function h(e,n,r,o,i,a){for(;o<=i;++o)t.insertBefore(e,p(r[o],a),n)}function y(e){var t,n,r=e.data;if(o(r)){for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<S.destroy.length;++t)S.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}}function v(e,n,r,i){for(;r<=i;++r){var a,l,u,c=n[r];if(o(c))if(o(c.sel)){for(y(c),l=S.remove.length+1,u=s(c.elm,l),a=0;a<S.remove.length;++a)S.remove[a](c,u);o(a=c.data)&&o(a=a.hook)&&o(a=a.remove)?a(c,u):u()}else t.removeChild(e,c.elm)}}function m(e,n,o,s){for(var l,u,c,f,d=0,y=0,m=n.length-1,g=n[0],w=n[m],S=o.length-1,x=o[0],k=o[S];d<=m&&y<=S;)r(g)?g=n[++d]:r(w)?w=n[--m]:i(g,x)?(b(g,x,s),g=n[++d],x=o[++y]):i(w,k)?(b(w,k,s),w=n[--m],k=o[--S]):i(g,k)?(b(g,k,s),t.insertBefore(e,g.elm,t.nextSibling(w.elm)),g=n[++d],k=o[--S]):i(w,x)?(b(w,x,s),t.insertBefore(e,w.elm,g.elm),w=n[--m],x=o[++y]):(r(l)&&(l=a(n,d,m)),u=l[x.key],r(u)?(t.insertBefore(e,p(x,s),g.elm),x=o[++y]):(c=n[u],b(c,x,s),n[u]=void 0,t.insertBefore(e,c.elm,g.elm),x=o[++y]));d>m?(f=r(o[S+1])?null:o[S+1].elm,h(e,f,o,y,S,s)):y>S&&v(e,n,d,m)}function b(e,n,a){var s,l;o(s=n.data)&&o(l=s.hook)&&o(s=l.prepatch)&&s(e,n);var u=n.elm=e.elm,c=e.children,f=n.children;if(e!==n){if(!i(e,n)){var d=t.parentNode(e.elm);return u=p(n,a),t.insertBefore(d,u,e.elm),void v(d,[e],0,0)}if(o(n.data)){for(s=0;s<S.update.length;++s)S.update[s](e,n);s=n.data.hook,o(s)&&o(s=s.update)&&s(e,n)}r(n.text)?o(c)&&o(f)?c!==f&&m(u,c,f,a):o(f)?(o(e.text)&&t.setTextContent(u,""),h(u,null,f,0,f.length-1,a)):o(c)?v(u,c,0,c.length-1):o(e.text)&&t.setTextContent(u,""):e.text!==n.text&&t.setTextContent(u,n.text),o(l)&&o(s=l.postpatch)&&s(e,n)}}var g,w,S={};for(r(t)&&(t=c),g=0;g<d.length;++g)for(S[d[g]]=[],w=0;w<e.length;++w)void 0!==e[w][d[g]]&&S[d[g]].push(e[w][d[g]]);return function(e,o){var a,s,l,u=[];for(a=0;a<S.pre.length;++a)S.pre[a]();for(r(e.sel)&&(e=n(e)),i(e,o)?b(e,o,u):(s=e.elm,l=t.parentNode(s),p(o,u),null!==l&&(t.insertBefore(l,o.elm,t.nextSibling(s)),v(l,[e],0,0))),a=0;a<u.length;++a)u[a].data.hook.insert(u[a]);for(a=0;a<S.post.length;++a)S.post[a]();return o}}var l=n(5),u=n(6),c=n(7),f=l("",{},[],void 0,void 0),d=["create","update","remove","destroy","pre","post"];e.exports={init:s}},function(e,t){e.exports=function(e,t,n,r,o){var i=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:o,key:i}}},function(e,t){e.exports={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}}},function(e,t){function n(e){return document.createElement(e)}function r(e,t){return document.createElementNS(e,t)}function o(e){return document.createTextNode(e)}function i(e,t,n){e.insertBefore(t,n)}function a(e,t){e.removeChild(t)}function s(e,t){e.appendChild(t)}function l(e){return e.parentElement}function u(e){return e.nextSibling}function c(e){return e.tagName}function f(e,t){e.textContent=t}e.exports={createElement:n,createElementNS:r,createTextNode:o,appendChild:s,removeChild:a,insertBefore:i,parentNode:l,nextSibling:u,tagName:c,setTextContent:f}},function(e,t){function n(e,t){var n,r,o=t.elm,i=e.data.class,a=t.data.class;if(i||a){i=i||{},a=a||{};for(r in i)a[r]||o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}e.exports={create:n,update:n}},function(e,t){function n(e,t){var n,r,o,i=t.elm,a=e.data.props,s=t.data.props;if(a||s){a=a||{},s=s||{};for(n in a)s[n]||delete i[n];for(n in s)r=s[n],o=a[n],o===r||"value"===n&&i[n]===r||(i[n]=r)}}e.exports={create:n,update:n}},function(e,t){function n(e,t,r){if("function"==typeof e)e.call(t,r,t);else if("object"==typeof e)if("function"==typeof e[0])if(2===e.length)e[0].call(t,e[1],r,t);else{var o=e.slice(1);o.push(r),o.push(t),e[0].apply(t,o)}else for(var i=0;i<e.length;i++)n(e[i])}function r(e,t){var r=e.type,o=t.data.on;o&&o[r]&&n(o[r],t,e)}function o(){return function e(t){r(t,e.vnode)}}function i(e,t){var n,r=e.data.on,i=e.listener,a=e.elm,s=t&&t.data.on,l=t&&t.elm;if(r!==s){if(r&&i)if(s)for(n in r)s[n]||a.removeEventListener(n,i,!1);else for(n in r)a.removeEventListener(n,i,!1);if(s){var u=t.listener=e.listener||o();if(u.vnode=t,r)for(n in s)r[n]||l.addEventListener(n,u,!1);else for(n in s)l.addEventListener(n,u,!1)}}}e.exports={create:i,update:i,destroy:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(12),i=r(o),a=n(27),s=r(a),l=n(29),u=r(l),c=n(30),f=r(c),d=n(31),p=r(d),h=n(28);r(h);t.createStore=i.default,t.combineReducers=s.default,t.bindActionCreators=u.default,t.applyMiddleware=f.default,t.compose=p.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){m===v&&(m=v.slice())}function i(){return y}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,y=h(y,e)}finally{b=!1}for(var t=v=m,n=0;n<t.length;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:u.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[l.default]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,y=t,v=[],m=v,b=!1;return c({type:u.INIT}),p={dispatch:c,subscribe:s,getState:i,replaceReducer:f},p[l.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var i=n(13),a=r(i),s=n(23),l=r(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var o=n(14),i=n(20),a=n(22),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?l:s:(e=Object(e),u&&u in e?i(e):a(e))}var o=n(15),i=n(18),a=n(19),s="[object Null]",l="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(16),o=r.Symbol;e.exports=o},function(e,t,n){var r=n(17),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[l]=n:delete e[l]),o}var o=n(15),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){var r=n(21),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(24)},function(e,t,n){(function(e,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(26),s=o(a);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=(0,s.default)(i);t.default=l}).call(t,function(){return this}(),n(25)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,l=Object.keys(n);try{i(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<l.length;a++){var u=l[a],c=n[u],f=e[u],d=c(f,t);if("undefined"==typeof d){var p=o(u,t);throw new Error(p)}i[u]=d,r=r||d!==f}return r?i:e}}t.__esModule=!0,t.default=a;var s=n(12),l=n(13),u=(r(l),n(28));r(u)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;i<r.length;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),l=a.dispatch,u=[],c={getState:a.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s.default.apply(void 0,u)(a.dispatch),i({},a,{dispatch:l})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(31),s=r(a)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="https://dgmtrx.com/api.php?"+e.query,r={credentials:"same-origin",method:e.verb||(e.data?"POST":"GET"),headers:{Accept:"application/json"}};return e.data&&(s(r.headers,{"Content-Type":"application/x-www-form-urlencoded"}),r.body=e.data),(0,c.default)(n,r).then(i)}function i(e){return e.ok?e.json():e.json().then(function(t){return a(e,t)},function(){return a(e)})}function a(e,t){throw s({status:e.status,statusText:e.statusText,message:e.statusText},t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(33),c=r(u);t.default=function(e){return function(t){return function(n){if("API_REQ"!==n.type||!n.payload)return t(n);var r=l(n.payload.types,3),i=r[0],a=r[1],s=r[2];return t({type:i,payload:n.payload}),o(n.payload,e).then(function(e){return t({type:a,payload:n.payload,response:e})},function(e){return t({type:s,payload:n.payload,error:e})})}}}},function(e,t){"use strict";function n(e,t){return new Promise(function(n){t=r({method:"GET",headers:{}},t);var o=new XMLHttpRequest,i=function(){return n({ok:200<=o.status&&o.status<300,status:o.status,statusText:o.statusText,json:function(){return new Promise(function(e,t){try{var n=JSON.parse(o.responseText.trim());e(n)}catch(e){t(e)}})}})};o.open(t.method,e),Object.keys(t.headers).forEach(function(e){return o.setRequestHeader(e,t.headers[e])}),o.addEventListener("error",i),o.addEventListener("abort",i),o.upload.addEventListener("error",i),o.upload.addEventListener("abort",i),o.addEventListener("readystatechange",function(){o.readyState===XMLHttpRequest.DONE&&i()}),"function"==typeof t.onUploadProgress&&o.upload.addEventListener("progress",t.onUploadProgress),o.send(t.body)})}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var l=(i=o=function(){function e(t,n){var o=this;r(this,e),a.call(this),this.el=t,this.onChange=n,this.overlay=this.getOverlay(),this.options=t.querySelector(".options"),this.competitions=this.options.querySelectorAll(".competition"),this.selectedOption=t.querySelector(".selected option"),t.querySelector(".selected").addEventListener("click",function(e){return o.open()}),document.addEventListener("mousedown",function(e){return o.onDocumentClick(e)}),document.addEventListener("touchend",function(e){return o.onDocumentClick(e)}),this.activeCompetitionIdx=0;for(var i=0;i<this.competitions.length;i++)this.competitions[i].addEventListener("click",this.onSelect),this.competitions[i].classList.contains("active")&&(this.activeCompetitionIdx=i);var s=t.querySelectorAll(".button");this.prevBtn=s[0],this.nextBtn=s[1],this.setButtonStates(),this.prevBtn.addEventListener("click",function(){clearTimeout(o.btnThrottle),o.btnThrottle=setTimeout(o.onClickPrev,400)}),this.nextBtn.addEventListener("click",function(){clearTimeout(o.btnThrottle),o.btnThrottle=setTimeout(o.onClickNext,400)})}return s(e,[{key:"getOverlay",value:function(){var e=document.querySelector(".skoorin-select-competitions-overlay");return e||(e=document.createElement("div"),e.setAttribute("class","skoorin-select-competitions-overlay"),document.body.insertBefore(e,null)),e}},{key:"setButtonStates",value:function(){0==this.activeCompetitionIdx?this.prevBtn.classList.add("disabled"):this.prevBtn.classList.remove("disabled"),this.activeCompetitionIdx==this.competitions.length-1?this.nextBtn.classList.add("disabled"):this.nextBtn.classList.remove("disabled")}}]),e}(),a=function(){var e=this;this.onDocumentClick=function(t){for(var n=t.target;null!==n;){if(e.options===n||e.selected===n)return;n=n.parentNode}e.close()},this.onSelect=function(t){e.close(),e.selectCompetition(t.target)},this.selectCompetition=function(t){e.selectedOption.textContent=t.innerHTML;for(var n=0;n<e.competitions.length;n++)e.competitions[n]===t?(e.activeCompetitionIdx=n,e.competitions[n].classList.add("active")):e.competitions[n].classList.remove("active");e.setButtonStates(),"function"==typeof e.onChange&&e.onChange(t.dataset.id)},this.open=function(){return e.isVisible(e.options)?e.close():(e.options.style.display="block",e.position(!0),void optimizedResize.add(e.position))},this.close=function(){e.options.style.display="none",e.overlay.style.display="none",optimizedResize.remove(e.position)},this.position=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.innerWidth<=640?(e.overlay.style.display="block",e.options.style.position="fixed",e.options.style.left="auto",e.options.style.top="auto",e.options.style.left=(Math.ceil(window.innerWidth)-e.options.offsetWidth)/2+"px",e.options.style.top=(Math.ceil(window.innerHeight)-e.options.offsetHeight)/2+"px"):(e.overlay.style.display="none",e.options.style.position="absolute",e.options.style.left="",e.options.style.top=""),e.prevWinWidth=window.innerWidth},this.isVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.onClickPrev=function(){e.selectCompetition(e.competitions[e.activeCompetitionIdx-1])},this.onClickNext=function(){e.selectCompetition(e.competitions[e.activeCompetitionIdx+1])}},i);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=n(3),l=n(36),u=function(){function e(t,n,o){var i=t.container,a=t.select,s=this;r(this,e),this.onChange=function(e){s.dispatchAction((0,l.getMultiSelectValue)(e.target))},this.onBlur=function(){s.isAllSelected()&&s.dispatchAction(["all"]),s.close()},this.isAllSelected=function(){var e=s.state.filters.players.selected;return!Array.isArray(e)||!e.length||e.indexOf("all")>-1},this.onDocumentClick=function(e){for(var t=e.target;null!==t;){if(s.container.elm===t)return;t=t.parentNode}s.close()},this.container=i,this.select=a,this.store=o,document.addEventListener("mousedown",function(e){return s.onDocumentClick(e)}),document.addEventListener("touchend",function(e){return s.onDocumentClick(e)}),document.addEventListener("touchstart",function(e){return s.setState({touch:!0})}),this.setState(n)}return i(e,[{key:"setState",value:function(e){this.state=o({},this.state,e),this.render()}},{key:"render",value:function(){var e=this.state.filters.players,t=e.selected,n=e.lastChanged,r=this.isAllSelected(),o=((0,l.getDeepProp)(this.state,"data.filters.players")||[]).slice(0);o.sort(function(e,t){return e.Name.toLowerCase()>t.Name.toLowerCase()?1:e.Name.toLowerCase()<t.Name.toLowerCase()?-1:0});var i=this.open.bind(this),u=(0,a.html)("div",{key:"container",class:{"skoorin-results-filter-control-select-players":1,"no-options":!o.length,touch:this.state.touch},"on-click":i,"on-touchstart":i},(0,a.html)("select",{class:{placeholder:1,visible:!this.state.showMultiselect}},(0,a.html)("option",null,r?window.skoorinResults.l10n.all.players:1===t.length?t[0]:window.skoorinResults.l10n.multiple.players)),(0,a.html)("select",{key:"select-players",name:"players",multiple:!0,autoComplete:"off","on-change":this.onChange,"on-blur":this.onBlur,class:{visible:this.state.showMultiselect}},(0,a.html)("option",{key:"all",value:"all",selected:r},window.skoorinResults.l10n.all.players),o.map(function(e){var r=e.Name;return(0,a.html)("option",{key:r+"-"+(n||Date.now()),value:r,selected:t.indexOf(r)>-1},r)})));this.container instanceof Element&&(this.container.innerHTML=""),this.container=(0,s.patch)(this.container,u)}},{key:"open",value:function(){if(!this.state.showMultiselect){var e={showMultiselect:!0,hasOpened:!0};this.state.hasOpened||(e.filters=o({},this.state.filters,{players:o({},this.state.filters.players,{lastChanged:Date.now()})})),this.setState(e)}}},{key:"close",value:function(){this.state.showMultiselect&&this.setState({showMultiselect:!1})}},{key:"dispatchAction",value:function(e){this.store.dispatch({type:"FILTER",payload:{players:{selected:e,lastChanged:Date.now()}}})}}]),e}();t.default=u},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=t instanceof Array?t:t.split(n);return r.reduce(function(e,t){return e?e[t]:e},e)}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if("undefined"!=typeof n&&t.length){var i=t instanceof Array?t:t.split(r);i.length>1?("undefined"==typeof e[i[0]]&&(e[i[0]]="number"==typeof i[1]?[]:{}),o(e[i[0]],i.slice(1),n)):e[i[0]]=n}return e}function i(e){return e.reduce(function(e,t){var n=parseFloat(t);return isNaN(n)?e:e+n},0)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t[n]="object"==l(e[n])&&null!==e[n]?a(e[n],e[n].constructor()):e[n];return t}function s(e){return(e.selectedOptions?[].concat(n(e.selectedOptions)):[].concat(n(e.options)).filter(function(e){return e.selected})).map(function(e){return e.value})}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getDeepProp=r,t.setDeepProp=o,t.arraySum=i,t.deepCopy=a,t.getMultiSelectValue=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e;
}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(38);var u=n(2),c=n(73),f=r(c),d=n(3),p=n(36),h='<svg width="100%" height="100%" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="'+window.skoorinResults.profile_link_icon_path+'"/></svg>',y="$___NO_CLASS",v={BUE:{type:Boolean,totalFmt:"percent"},GRH:{type:Boolean,totalFmt:"percent"},OCP:{type:Boolean,totalFmt:"sum"},ICP:{type:Number,totalFmt:"percent"},IBP:{type:Boolean,totalFmt:"sum"},PEN:{type:Number,totalFmt:"sum"}},m=function(e){return(parseFloat(e)>0?"+":"")+e},b=function(){function e(t,n){i(this,e),this.toggleResultsExtra=function(e){e.preventDefault();for(var t=e.target;"TR"!==t.tagName;)t=t.parentNode;t.classList.contains("expanded")?t.classList.remove("expanded"):t.classList.add("expanded")},this.el=t,this.competitionID=null,this.setState(n)}return l(e,[{key:"setState",value:function(e){this.state=e,this.render()}},{key:"render",value:function(){var e=this,t=(0,p.getDeepProp)(this.state,"data.results"),n=t.Competition,r=!!(n.SubCompetitions||[]).length,o=!r&&n.hasOwnProperty("MetrixMode")&&2==n.MetrixMode,i=n.hasOwnProperty("ShowPreviousRoundsSum")&&!!parseInt(n.ShowPreviousRoundsSum,10);this.competitionID!=n.ID&&(this.playersByClasses=this.getPlayersByClasses(this.aggregateResults()),this.orderPlayersByTotalScore(),this.rankPlayers(),this.competitionID=n.ID);var a=0,s=r?3:2,l=this.filterPlayers(),c=(0,u.html)("div",{className:"skoorin-results-table","class-loading":this.state.loading},(0,u.html)("div",{className:"skoorin-results-table-container table-scroll table-responsive"},(0,u.html)("table",null,(0,u.html)("colgroup",null,(0,u.html)("col",{width:"0%"}),(0,u.html)("col",{width:"100%"})),(0,u.html)("thead",null,(0,u.html)("tr",null,(0,u.html)("th",{className:"hole",colSpan:s},window.skoorinResults.l10n.hole),this.state.data.results.Competition.Tracks.map(function(e,t){var n=e.Number;return(0,u.html)("th",null,n)}),(0,u.html)("th",null,window.skoorinResults.l10n.tot),(0,u.html)("th",null,window.skoorinResults.l10n.to_par),r||i?[(0,u.html)("th",null),(0,u.html)("th",null)]:""),(0,u.html)("tr",{className:"par"},(0,u.html)("th",{className:"par",colSpan:s},window.skoorinResults.l10n.par),this.state.data.results.Competition.Tracks.map(function(e,t){var n=e.Par;return a+=parseInt(n,10),(0,u.html)("th",null,n)}),(0,u.html)("th",null,a),(0,u.html)("th",null),r||i?[(0,u.html)("th",null),(0,u.html)("th",null)]:"")),l.order.map(function(t){return[t!=y&&l.byName[t].order.length?(0,u.html)("thead",{key:n.ID+"/"+t},(0,u.html)("th",{className:"class",colSpan:n.Tracks.length+(r?7:i?6:4)},t)):"",l.byName[t].order.map(function(a,s){var c=l.byName[t].byName[a],d=Object.keys(c.PlayerResults),y=r&&o?d.length+d.length*Object.keys(v).length:d.length,b=(0,p.arraySum)(Object.values(c.Sum)),g=(0,p.arraySum)(Object.values(c.Diff)),w=n.ID+"/"+(c.UserID||c.Name);return(0,u.html)("tbody",{key:w},d.map(function(t,n){var a=(0,u.html)("tr",{key:w+"/"+t},0!==n?"":[(0,u.html)("td",{key:[w,t,"standing"].join("/"),className:"standing",rowSpan:y},c.standing),(0,u.html)("td",{key:[w,t,"player"].join("/"),className:"player",rowSpan:y,title:c.Name},o?(0,u.html)("a",{className:"expand-metrix","on-click":e.toggleResultsExtra,href:"#"},(0,u.html)("i",null)," ",c.Name):c.Name,c.hasOwnProperty("UserID")?(0,u.html)("a",{className:"profile-link",target:"_blank",href:"https://dgmtrx.com/?u=player_stat&player_user_id="+c.UserID},(0,f.default)("span",{props:{innerHTML:h}})):"")],r?e.getSubcompetitionCell(t):"",c.PlayerResults[t].map(function(n,r){return e.getScoreCell(c,t,n,r)}),(0,u.html)("td",{className:"sum"},c.Sum[t]),(0,u.html)("td",{className:"diff"},m(c.Diff[t])),r&&0===n?[(0,u.html)("td",{key:[w,t,"sum"].join("/"),className:"sum",rowSpan:y},b),(0,u.html)("td",{key:[w,t,"diff"].join("/"),className:"diff",rowSpan:y},m(g))]:i?[(0,u.html)("td",{key:[w,t,"sum"].join("/"),className:"sum",rowSpan:y},c.PreviousRoundsSum),(0,u.html)("td",{key:[w,t,"diff"].join("/"),className:"diff",rowSpan:y},m(c.PreviousRoundsDiff))]:"");return o?[a].concat(e.getExtraRows(c,t,r,i)):a}))})]}))),(0,u.html)("span",{className:"spinner"},(0,u.html)("i",null),(0,u.html)("i",null)));this.el instanceof Element&&(this.el.innerHTML=""),this.el=(0,d.patch)(this.el,c)}},{key:"aggregateResults",value:function(){var e={byName:{},order:[]},t=function t(n){var r=n.Date+"T"+n.Time;(n.Results||[]).forEach(function(t){e.byName.hasOwnProperty(t.Name)||(e.byName[t.Name]=s({},t),e.byName[t.Name].Sum={},e.byName[t.Name].Diff={},e.byName[t.Name].PlayerResults=o({},r,[]),e.order.push(t.Name)),e.byName[t.Name].Sum[r]=t.Sum,e.byName[t.Name].Diff[r]=t.Diff,e.byName[t.Name].PlayerResults[r]=[],(t.PlayerResults||[]).forEach(function(n){return e.byName[t.Name].PlayerResults[r].push(n)})}),n.SubCompetitions&&(n.SubCompetitions||[]).length&&n.SubCompetitions.forEach(t)},n=(0,p.getDeepProp)(this.state,"data.results"),r=n.Competition;return r&&t(r),e}},{key:"getPlayersByClasses",value:function(e){return e.order.reduce(function(t,n){var r=e.byName[n].ClassName||y;return t.byName.hasOwnProperty(r)||(t.byName[r]={byName:{},order:[]},t.order.push(r)),t.byName[r].byName[n]=e.byName[n],t.byName[r].order.push(n),t},{byName:{},order:[]})}},{key:"orderPlayersByTotalScore",value:function(){var e=this,t=(0,p.getDeepProp)(this.state,"data.results"),n=t.Competition;if(n&&this.playersByClasses){var r=(Array.isArray(n.SubCompetitions)?n.SubCompetitions.length:0)+(Array.isArray(n.Results)&&n.Results.length?1:0),o=function(e){return"[object Object]"!={}.toString.call(e.PlayerResults)||Object.keys(e.PlayerResults).length<r},i=function(e){for(var t in e.PlayerResults){var n=!0,r=!1,o=void 0;try{for(var i,a=e.PlayerResults[t][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if("[object Object]"!={}.toString.call(s)||!s.hasOwnProperty("Result"))return!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}return!1},a=n.hasOwnProperty("ShowPreviousRoundsSum")&&parseInt(n.ShowPreviousRoundsSum,10)?"PreviousRoundsDiff":"Diff",s=function(e){return"[object Object]"=={}.toString.call(e)?(0,p.arraySum)(Object.values(e)):e};this.playersByClasses.order.forEach(function(t){var n=e.playersByClasses.byName[t];n.order.sort(function(e,t){var r=n.byName[e],l=n.byName[t];return!i(r)&&i(l)?-1:i(r)&&!i(l)?1:!o(r)&&o(l)?-1:o(r)&&!o(l)?1:s(r[a])<s(l[a])?-1:s(r[a])>s(l[a])?1:n.order.indexOf(e)<n.order.indexOf(t)?-1:n.order.indexOf(e)>n.order.indexOf(t)?1:0})})}}},{key:"rankPlayers",value:function(){var e=this,t=(0,p.getDeepProp)(this.state,"data.results"),n=t.Competition;if(n&&this.playersByClasses){var r=n.hasOwnProperty("ShowPreviousRoundsSum")&&parseInt(n.ShowPreviousRoundsSum,10)?"PreviousRoundsDiff":"Diff";this.playersByClasses.order.forEach(function(t){var n=0,o=0;e.playersByClasses.byName[t].order.forEach(function(i){var a=e.playersByClasses.byName[t].byName[i],s="[object Object]"=={}.toString.call(a[r])?(0,p.arraySum)(Object.values(a[r])):a[r];s!=o&&n++,o=s,a.standing=n})})}}},{key:"filterPlayers",value:function(){var e=this,t=(0,p.deepCopy)(this.playersByClasses),n={players:"Name",classes:"ClassName",groups:"Group"},r=function(t){return"players"!=t?"all"!=e.state.filters[t]:Array.isArray(e.state.filters.players.selected)&&e.state.filters.players.selected.indexOf("all")<0},o=function(o){if(r(o))return t.order.forEach(function(r){var i=t.byName[r];i.order=i.order.filter(function(t){var r=i.byName[t][n[o]];return"players"!=o?e.state.filters[o]==r:Array.isArray(e.state.filters.players.selected)&&e.state.filters.players.selected.indexOf(r)>-1}),t.byName[r]=i}),"break"};for(var i in this.state.filters){var a=o(i);if("break"===a)break}return t}},{key:"getSubcompetitionCell",value:function(e){var t=e.split("T"),n=a(t,2),r=n[0],o=n[1],i=r.split("-"),s=a(i,3),l=s[0],c=s[1],f=s[2],d=o.split(":"),p=a(d,2),h=p[0],y=p[1],v=c+"/"+f+"/"+l+" "+h+":"+y;return(0,u.html)("td",null,v)}},{key:"getScoreCell",value:function(e,t,n,r){var o=this.state.data.results.Competition,i=(0,p.getDeepProp)(o,["Tracks",r,"Number"])||r+1,a=[o.ID,e.UserID||e.Name,t,"hole-"+i+"score"].join("/"),s=this.getScoreClass(n),l=[i,n.Diff,s.title,s.isOB?window.skoorinResults.l10n.score_tooltip_ob.replace(/&#013;/g,"\n"):""],c=-1,f=window.skoorinResults.l10n.score_tooltip.replace(/&#013;/g,"\n").replace(/%s/g,function(){return c++,l[c]});return(0,u.html)("td",{key:a,className:s.class,title:f},n.Result||"")}},{key:"getScoreClass",value:function(e){var t=e.Result,n=e.Diff,r=e.OB,o=void 0,i=!!Number(r),a=i?" ob":"";if("undefined"==typeof t)o="no-score";else if(1==t)o="hole-in-one";else switch(n){case-2:o="eagle";break;case-1:o="birdie";break;case 0:o="par";break;case 1:o="bogey";break;case 2:o="double-bogey";break;default:o=n<-2?"eagle":"fail"}return{title:window.skoorinResults.l10n.score_terms[o],isOB:i,class:o+a}}},{key:"getExtraRows",value:function(e,t,n,r){var o=this,i=this.state.data.results.Competition;return Object.keys(v).map(function(a){var s=[i.ID,t,e.UserID||e.Name,a].join("/");return(0,u.html)("tr",{key:s,className:"extra "+a.toLowerCase()},(0,u.html)("td",{colSpan:n?1:2},window.skoorinResults.l10n.extra[a]),e.PlayerResults[t].map(function(e,t){return(0,u.html)("td",{key:s+"/"+t},o.getExtraNotation(e,a))}),(0,u.html)("td",{colSpan:"2"},e[("PEN"==a?"Penalties":a)+"Total"]||""),n||!r?"":(0,u.html)("td",{colSpan:"2"},e["PreviousRounds"+("PEN"==a?"Penalties":a)]||""))})}},{key:"getExtraNotation",value:function(e,t){var n=parseInt(e[t],10);switch(v[t].type){case Boolean:return n?"âœ”":"";case Number:default:return n?n:""}}}]),e}();t.default=b},function(e,t,n){n(39),e.exports=n(42).Object.values},function(e,t,n){var r=n(40),o=n(58)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(41),o=n(42),i=n(43),a=n(53),s=n(56),l="prototype",u=function(e,t,n){var c,f,d,p,h=e&u.F,y=e&u.G,v=e&u.S,m=e&u.P,b=e&u.B,g=y?r:v?r[t]||(r[t]={}):(r[t]||{})[l],w=y?o:o[t]||(o[t]={}),S=w[l]||(w[l]={});y&&(n=t);for(c in n)f=!h&&g&&void 0!==g[c],d=(f?g:n)[c],p=b&&f?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,g&&a(g,c,d,e&u.U),w[c]!=d&&i(w,c,p),m&&S[c]!=d&&(S[c]=d)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(44),o=n(52);e.exports=n(48)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(45),o=n(47),i=n(51),a=Object.defineProperty;t.f=n(48)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(46);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(48)&&!n(49)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(49)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(46),o=n(41).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(46);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(41),o=n(43),i=n(54),a=n(55)("src"),s="toString",l=Function[s],u=(""+l).split(s);n(42).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||l.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(57);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(59),o=n(61),i=n(72).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),l=s.length,u=0,c=[];l>u;)i.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var r=n(60),o=n(71);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(54),o=n(61),i=n(65)(!1),a=n(69)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(62),o=n(64);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(63);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(61),o=n(66),i=n(68);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(67),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(67),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(70)("keys"),o=n(55);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(41),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var o=0;o<t.length;++o)r(t[o].data,t[o].children,t[o].sel)}var o=n(5),i=n(6);e.exports=function(e,t,n){var a,s,l,u={};if(void 0!==n?(u=t,i.array(n)?a=n:i.primitive(n)&&(s=n)):void 0!==t&&(i.array(t)?a=t:i.primitive(t)?s=t:u=t),i.array(a))for(l=0;l<a.length;++l)i.primitive(a[l])&&(a[l]=o(void 0,void 0,void 0,a[l]));return"s"===e[0]&&"v"===e[1]&&"g"===e[2]&&r(u,a,e),o(e,u,a,s,void 0)}}]);
//# sourceMappingURL=skoorin-results.js.map