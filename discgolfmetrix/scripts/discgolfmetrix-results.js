!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(1),c=r(u);n(5);var l=n(6),f=n(7),p=n(15),d=n(36),h=r(d),y=n(38),m=r(y),v=n(39),g=r(v),b=n(93),w=r(b),x=n(40);window.Promise||(window.Promise=c.default);for(var S={loading:function(t,e){switch(e.type){case"FETCH_RESULTS_REQ":return!0;case"FETCH_RESULTS_RES":case"FETCH_RESULTS_ERR":return!1;default:return t}},data:function(t,e){switch(e.type){case"FETCH_RESULTS_RES":var n=!!(0,x.getDeepProp)(e,"response.Competition");return n||alert(window.discgolfmetrixResults.l10n.missing_data_error),n?s({},t,{results:e.response}):t;case"FETCH_FILTER_RES":var r=!!(0,x.getDeepProp)(e,"response.competitions");return r||alert(window.discgolfmetrixResults.l10n.missing_data_error),r?s({},t,{filters:e.response}):t;case"FETCH_RESULTS_ERR":case"FETCH_FILTER_ERR":alert(window.discgolfmetrixResults.l10n.network_error);default:return t}},filters:function(t,e){if("FILTER"!=e.type)return t;var n={};for(var r in t)n[r]="players"==r?{selected:"all",lastChanged:Date.now()}:"all";return s({},n,e.payload)}},_=function(){function t(e,n){var r=this;i(this,t),this.onCompetitionSelect=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&r.competitionSelect)for(var n=0;n<r.competitionSelect.competitions.length;n++)r.competitionSelect.competitions[n].dataset.id==t&&r.competitionSelect.selectCompetition(r.competitionSelect.competitions[n]);r.store.dispatch({type:"FILTER",payload:{}}),r.store.dispatch({type:"API_REQ",payload:{types:["FETCH_RESULTS_REQ","FETCH_RESULTS_RES","FETCH_RESULTS_ERR"],query:"content=result&id="+t}}),r.store.dispatch({type:"API_REQ",payload:{types:["FETCH_FILTER_REQ","FETCH_FILTER_RES","FETCH_FILTER_ERR"],query:"content=wordpress_filters&competition_id="+t}})},this.el=e,this.competitionId=this.el.dataset.competitionId,this.store=(0,p.createStore)(function(t,e){return{loading:S.loading(t.loading,e),data:S.data(t.data,e),filters:S.filters(t.filters,e)}},this.getInitialState(n),(0,p.applyMiddleware)(h.default)),this.store.subscribe(function(){return r.setState(r.store.getState())}),this.setState(this.store.getState()),this.refetchInSeconds(30)}return a(t,[{key:"getInitialState",value:function(t){return{loading:!1,data:t,filters:this.initFilters(t.filters_selected,t.filters)}}},{key:"setState",value:function(t){this.state=s({},this.state,t),this.render()}},{key:"initFilters",value:function(t,e){var n=this,r={};return this.filters={},t.forEach(function(t){if("competitions"!=t){var e=n.el.querySelector(".discgolfmetrix-results-filter-control-select-"+t),o=e.querySelector('select[name="'+t+'"]');n.filters[t]={container:e,select:o},"players"==t?r[t]={selected:(0,x.getMultiSelectValue)(o),lastChanged:Date.now()}:r[t]=o.value}}),r}},{key:"render",value:function(){var t=(0,x.getDeepProp)(this.state,"data.results.Competition"),e=t.ID;e&&e!=this.competitionId&&(this.refetchInSeconds(30),this.competitionId=e),this.table?this.table.setState(this.state):this.table=new w.default(this.el.querySelector(".discgolfmetrix-results-table"),this.state,this.onCompetitionSelect),this.competitionSelect||(this.competitionSelect=new m.default(this.el.querySelector(".discgolfmetrix-select-competitions"),this.onCompetitionSelect));for(var n in this.filters)"players"==n?this.playersFilter?this.playersFilter.setState(this.state):this.playersFilter=new g.default(this.filters[n],this.state,this.store):this.renderFilter(n)}},{key:"renderFilter",value:function(t){var e,n=this.state.filters[t],r=(0,x.getDeepProp)(this.state,["data","filters",t]),i=(0,l.html)("div",{class:(e={},o(e,"discgolfmetrix-results-filter-control-select-"+t,1),o(e,"no-options",!Array.isArray(r)||!r.length),e)},(0,l.html)("select",{name:t,"on-change":this.onChangeFilter.bind(this,t)},(0,l.html)("option",{value:"all",selected:"all"==n},window.discgolfmetrixResults.l10n.all[t]),Array.isArray(r)?r.map(function(e){var r="groups"==t?e.Number:e.Name;return(0,l.html)("option",{value:r,selected:n==r},r)}):""));this.filters[t].container instanceof Element&&(this.filters[t].container.innerHTML=""),this.filters[t].container=(0,f.patch)(this.filters[t].container,i)}},{key:"onChangeFilter",value:function(t,e){this.store.dispatch({type:"FILTER",payload:o({},t,e.target.value)})}},{key:"refetchInSeconds",value:function(t){var e=this;clearTimeout(this.refetchTimer),this.refetchTimer=setTimeout(function(){var n=(0,x.getDeepProp)(e.state,"data.results.Competition"),r=n.ID;r&&e.store.dispatch({type:"API_REQ",payload:{types:["FETCH_RESULTS_REQ","FETCH_RESULTS_RES","FETCH_RESULTS_ERR"],query:"content=result&id="+r}}),e.refetchInSeconds(t)},1e3*t)}}]),t}(),E=document.querySelectorAll(".discgolfmetrix-results"),O=0;O<E.length;O++){var T=void 0;try{T=JSON.parse(E[O].querySelector(".discgolfmetrix-results-data").innerHTML)}catch(t){console.error("Could not parse results data. This could mean there was a network error when getting the data from Disc Golf Metrix data API.\n",t);break}new _(E[O],T)}},function(t,e,n){(function(e){!function(n){function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var p=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(i,t)},n)}e[i]=a,0===--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){p(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},"undefined"!=typeof t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(2).setImmediate)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(3),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return y[h]=r,d(h),h++}function o(t){delete y[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(m)setTimeout(a,0,t);else{var e=y[t];if(e){m=!0;try{i(e)}finally{o(t),m=!1}}}}function s(){d=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),d=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},d=function(e){t.port2.postMessage(e)}}function f(){var t=v.documentElement;d=function(e){var n=v.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function p(){d=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var d,h=1,y={},m=!1,v=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?s():u()?c():t.MessageChannel?l():v&&"onreadystatechange"in v.createElement("script")?f():p(),g.setImmediate=r,g.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):m=-1,h.length&&s())}function s(){if(!y){var t=o(a);y=!0;for(var e=h.length;e;){for(d=h,h=[];++m<e;)d&&d[m].run();m=-1,e=h.length}d=null,y=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,h=[],y=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||y||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"use strict";window.optimizedResize=function(){function t(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,66))}function e(){r.forEach(function(t){t()}),o=!1}function n(t){t&&r.push(t)}var r=[],o=!1;return{add:function(e){r.length||window.addEventListener("resize",t),n(e)},remove:function(e){var n=r.indexOf(e);n<0||(r.splice(n,1),r.length||window.removeEventListener("resize",t))}}}()},function(t,e){"use strict";function n(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||null===t||void 0===t}function r(t,e,n,r){function o(t,e,n){var r=i[t]||(i[t]={});r[e]=n}for(var i={ns:e},a=0,s=r.length;a<s;a++){var u=r[a];t[u]&&(i[u]=t[u])}for(var c in t)if("key"!==c&&"classNames"!==c&&"selector"!==c){var l=c.indexOf("-");l>0?o(c.slice(0,l),c.slice(l+1),t[c]):i[c]||o(n,c,t[c])}return i}function o(t,e,o,i,a,s){if(a.selector&&(i+=a.selector),a.classNames){var u=a.classNames;i=i+"."+(Array.isArray(u)?u.join("."):u.replace(/\s+/g,"."))}return{sel:i,data:r(a,t,e,o),children:s.map(function(t){return n(t)?{text:t}:t}),key:a.key}}function i(t,e,n,r,o,i){var a;if("function"==typeof r)a=r(o,i);else if(r&&"function"==typeof r.view)a=r.view(o,i);else{if(!r||"function"!=typeof r.render)throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";a=r.render(o,i)}return a.key=o.key,a}function a(t,e,n){for(var r=e,o=t.length;r<o;r++){var i=t[r];Array.isArray(i)?a(i,0,n):n.push(i)}}function s(t){if(t)for(var e=0,n=t.length;e<n;e++)if(Array.isArray(t[e])){var r=t.slice(0,e);a(t,e,r),t=r;break}return t}function u(t,e,n,r,a,u){return a=a||{},u=s(u),"string"==typeof r?o(t,e,n,r,a,u):i(t,e,n,r,a,u)}function c(t,e,n){return function(r,o,i){return(arguments.length>3||!Array.isArray(i))&&(i=p.call(arguments,2)),u(t,e||"props",n||f,r,o,i)}}var l="http://www.w3.org/2000/svg",f=["hook","on","style","class","props","attrs"],p=Array.prototype.slice;t.exports={html:c(void 0),svg:c(l,"attrs"),JSX:c}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.patch=void 0;var o=n(8),i=r(o),a=n(12),s=r(a),u=n(13),c=r(u),l=n(14),f=r(l);e.patch=i.default.init([s.default,c.default,f.default])},function(t,e,n){"use strict";function r(t){return void 0===t}function o(t){return void 0!==t}function i(t,e){return t.key===e.key&&t.sel===e.sel}function a(t,e,n){var r,i,a={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(a[i]=r);return a}function s(t,e){function n(t){var n=t.id?"#"+t.id:"",r=t.className?"."+t.className.split(" ").join("."):"";return u(e.tagName(t).toLowerCase()+n+r,{},[],void 0,t)}function s(t,n){return function(){if(0===--n){var r=e.parentNode(t);e.removeChild(r,t)}}}function d(t,n){var r,i=t.data;o(i)&&o(r=i.hook)&&o(r=r.init)&&(r(t),i=t.data);var a,s=t.children,u=t.sel;if(o(u)){var l=u.indexOf("#"),p=u.indexOf(".",l),h=l>0?l:u.length,y=p>0?p:u.length,m=l!==-1||p!==-1?u.slice(0,Math.min(h,y)):u;if(a=t.elm=o(i)&&o(r=i.ns)?e.createElementNS(r,m):e.createElement(m),h<y&&(a.id=u.slice(h+1,y)),p>0&&(a.className=u.slice(y+1).replace(/\./g," ")),c.array(s))for(r=0;r<s.length;++r)e.appendChild(a,d(s[r],n));else c.primitive(t.text)&&e.appendChild(a,e.createTextNode(t.text));for(r=0;r<x.create.length;++r)x.create[r](f,t);r=t.data.hook,o(r)&&(r.create&&r.create(f,t),r.insert&&n.push(t))}else a=t.elm=e.createTextNode(t.text);return t.elm}function h(t,n,r,o,i,a){for(;o<=i;++o)e.insertBefore(t,d(r[o],a),n)}function y(t){var e,n,r=t.data;if(o(r)){for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<x.destroy.length;++e)x.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)y(t.children[n])}}function m(t,n,r,i){for(;r<=i;++r){var a,u,c,l=n[r];if(o(l))if(o(l.sel)){for(y(l),u=x.remove.length+1,c=s(l.elm,u),a=0;a<x.remove.length;++a)x.remove[a](l,c);o(a=l.data)&&o(a=a.hook)&&o(a=a.remove)?a(l,c):c()}else e.removeChild(t,l.elm)}}function v(t,n,o,s){for(var u,c,l,f,p=0,y=0,v=n.length-1,b=n[0],w=n[v],x=o.length-1,S=o[0],_=o[x];p<=v&&y<=x;)r(b)?b=n[++p]:r(w)?w=n[--v]:i(b,S)?(g(b,S,s),b=n[++p],S=o[++y]):i(w,_)?(g(w,_,s),w=n[--v],_=o[--x]):i(b,_)?(g(b,_,s),e.insertBefore(t,b.elm,e.nextSibling(w.elm)),b=n[++p],_=o[--x]):i(w,S)?(g(w,S,s),e.insertBefore(t,w.elm,b.elm),w=n[--v],S=o[++y]):(r(u)&&(u=a(n,p,v)),c=u[S.key],r(c)?(e.insertBefore(t,d(S,s),b.elm),S=o[++y]):(l=n[c],g(l,S,s),n[c]=void 0,e.insertBefore(t,l.elm,b.elm),S=o[++y]));p>v?(f=r(o[x+1])?null:o[x+1].elm,h(t,f,o,y,x,s)):y>x&&m(t,n,p,v)}function g(t,n,a){var s,u;o(s=n.data)&&o(u=s.hook)&&o(s=u.prepatch)&&s(t,n);var c=n.elm=t.elm,l=t.children,f=n.children;if(t!==n){if(!i(t,n)){var p=e.parentNode(t.elm);return c=d(n,a),e.insertBefore(p,c,t.elm),void m(p,[t],0,0)}if(o(n.data)){for(s=0;s<x.update.length;++s)x.update[s](t,n);s=n.data.hook,o(s)&&o(s=s.update)&&s(t,n)}r(n.text)?o(l)&&o(f)?l!==f&&v(c,l,f,a):o(f)?(o(t.text)&&e.setTextContent(c,""),h(c,null,f,0,f.length-1,a)):o(l)?m(c,l,0,l.length-1):o(t.text)&&e.setTextContent(c,""):t.text!==n.text&&e.setTextContent(c,n.text),o(u)&&o(s=u.postpatch)&&s(t,n)}}var b,w,x={};for(r(e)&&(e=l),b=0;b<p.length;++b)for(x[p[b]]=[],w=0;w<t.length;++w)void 0!==t[w][p[b]]&&x[p[b]].push(t[w][p[b]]);return function(t,o){var a,s,u,c=[];for(a=0;a<x.pre.length;++a)x.pre[a]();for(r(t.sel)&&(t=n(t)),i(t,o)?g(t,o,c):(s=t.elm,u=e.parentNode(s),d(o,c),null!==u&&(e.insertBefore(u,o.elm,e.nextSibling(s)),m(u,[t],0,0))),a=0;a<c.length;++a)c[a].data.hook.insert(c[a]);for(a=0;a<x.post.length;++a)x.post[a]();return o}}var u=n(9),c=n(10),l=n(11),f=u("",{},[],void 0,void 0),p=["create","update","remove","destroy","pre","post"];t.exports={init:s}},function(t,e){t.exports=function(t,e,n,r,o){var i=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:r,elm:o,key:i}}},function(t,e){t.exports={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}}},function(t,e){function n(t){return document.createElement(t)}function r(t,e){return document.createElementNS(t,e)}function o(t){return document.createTextNode(t)}function i(t,e,n){t.insertBefore(e,n)}function a(t,e){t.removeChild(e)}function s(t,e){t.appendChild(e)}function u(t){return t.parentElement}function c(t){return t.nextSibling}function l(t){return t.tagName}function f(t,e){t.textContent=e}t.exports={createElement:n,createElementNS:r,createTextNode:o,appendChild:s,removeChild:a,insertBefore:i,parentNode:u,nextSibling:c,tagName:l,setTextContent:f}},function(t,e){function n(t,e){var n,r,o=e.elm,i=t.data.class,a=e.data.class;if(i||a){i=i||{},a=a||{};for(r in i)a[r]||o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}t.exports={create:n,update:n}},function(t,e){function n(t,e){var n,r,o,i=e.elm,a=t.data.props,s=e.data.props;if(a||s){a=a||{},s=s||{};for(n in a)s[n]||delete i[n];for(n in s)r=s[n],o=a[n],o===r||"value"===n&&i[n]===r||(i[n]=r)}}t.exports={create:n,update:n}},function(t,e){function n(t,e,r){if("function"==typeof t)t.call(e,r,e);else if("object"==typeof t)if("function"==typeof t[0])if(2===t.length)t[0].call(e,t[1],r,e);else{var o=t.slice(1);o.push(r),o.push(e),t[0].apply(e,o)}else for(var i=0;i<t.length;i++)n(t[i])}function r(t,e){var r=t.type,o=e.data.on;o&&o[r]&&n(o[r],e,t)}function o(){return function t(e){r(e,t.vnode)}}function i(t,e){var n,r=t.data.on,i=t.listener,a=t.elm,s=e&&e.data.on,u=e&&e.elm;if(r!==s){if(r&&i)if(s)for(n in r)s[n]||a.removeEventListener(n,i,!1);else for(n in r)a.removeEventListener(n,i,!1);if(s){var c=e.listener=t.listener||o();if(c.vnode=e,r)for(n in s)r[n]||u.addEventListener(n,c,!1);else for(n in s)u.addEventListener(n,c,!1)}}}t.exports={create:i,update:i,destroy:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var o=n(16),i=r(o),a=n(31),s=r(a),u=n(33),c=r(u),l=n(34),f=r(l),p=n(35),d=r(p),h=n(32);r(h);e.createStore=i.default,e.combineReducers=s.default,e.bindActionCreators=c.default,e.applyMiddleware=f.default,e.compose=d.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){function r(){v===m&&(v=m.slice())}function i(){return y}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var n=v.indexOf(t);v.splice(n,1)}}}function l(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,y=h(y,t)}finally{g=!1}for(var e=m=v,n=0;n<e.length;n++){var r=e[n];r()}return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u.default]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,y=e,m=[],v=m,g=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u.default]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e.default=o;var i=n(17),a=r(i),s=n(27),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||o(t)!=s)return!1;var e=i(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var o=n(18),i=n(24),a=n(26),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=l.call(Object);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?i(t):a(t)}var o=n(19),i=n(22),a=n(23),s="[object Null]",u="[object Undefined]",c=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){var r=n(20),o=r.Symbol;t.exports=o},function(t,e,n){var r=n(21),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[u]=n:delete t[u]),o}var o=n(19),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){var r=n(25),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){t.exports=n(28)},function(t,e,n){(function(t,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(30),s=o(a);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:r;var u=(0,s.default)(i);e.default=u}).call(e,function(){return this}(),n(29)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),u=void 0;try{i(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],f=t[c],p=l(f,e);if("undefined"==typeof p){var d=o(c,e);throw new Error(d)}i[c]=p,r=r||p!==f}return r?i:t}}e.__esModule=!0,e.default=a;var s=n(16),u=n(17),c=(r(u),n(32));r(c)},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s.default.apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var a=n(35),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="https://discgolfmetrix.com/api.php?"+t.query,r={credentials:"same-origin",method:t.verb||(t.data?"POST":"GET"),headers:{Accept:"application/json"}};return t.data&&(s(r.headers,{"Content-Type":"application/x-www-form-urlencoded"}),r.body=t.data),(0,l.default)(n,r).then(i)}function i(t){return t.ok?t.json():t.json().then(function(e){return a(t,e)},function(){return a(t)})}function a(t,e){throw s({status:t.status,statusText:t.statusText,message:t.statusText},e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(37),l=r(c);e.default=function(t){return function(e){return function(n){if("API_REQ"!==n.type||!n.payload)return e(n);var r=u(n.payload.types,3),i=r[0],a=r[1],s=r[2];return e({type:i,payload:n.payload}),o(n.payload,t).then(function(t){return e({type:a,payload:n.payload,response:t})},function(t){return e({type:s,payload:n.payload,error:t})})}}}},function(t,e){"use strict";function n(t,e){return new Promise(function(n){e=r({method:"GET",headers:{}},e);var o=new XMLHttpRequest,i=function(){return n({ok:200<=o.status&&o.status<300,status:o.status,statusText:o.statusText,json:function(){return new Promise(function(t,e){try{var n=JSON.parse(o.responseText.trim());t(n)}catch(t){e(t)}})}})};o.open(e.method,t),Object.keys(e.headers).forEach(function(t){return o.setRequestHeader(t,e.headers[t])}),o.addEventListener("error",i),o.addEventListener("abort",i),o.upload.addEventListener("error",i),o.upload.addEventListener("abort",i),o.addEventListener("readystatechange",function(){o.readyState===XMLHttpRequest.DONE&&i()}),"function"==typeof e.onUploadProgress&&o.upload.addEventListener("progress",e.onUploadProgress),o.send(e.body)})}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i,a,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(5);var u=(i=o=function(){function t(e,n){var o=this;r(this,t),a.call(this),this.el=e,this.onChange=n,this.overlay=this.getOverlay(),this.options=e.querySelector(".options"),this.competitions=this.options.querySelectorAll(".competition"),this.selectedOption=e.querySelector(".selected option"),e.querySelector(".selected").addEventListener("click",function(t){return o.open()}),document.addEventListener("mousedown",function(t){return o.onDocumentClick(t)}),document.addEventListener("touchend",function(t){return o.onDocumentClick(t)}),this.activeCompetitionIdx=0;for(var i=0;i<this.competitions.length;i++)this.competitions[i].addEventListener("click",this.onSelect),this.competitions[i].classList.contains("active")&&(this.activeCompetitionIdx=i);var s=e.querySelectorAll(".competition-nav-button");this.prevBtn=s[0],this.nextBtn=s[1],this.setButtonStates(),this.prevBtn.addEventListener("click",function(){
clearTimeout(o.btnThrottle),o.btnThrottle=setTimeout(o.onClickPrev,400)}),this.nextBtn.addEventListener("click",function(){clearTimeout(o.btnThrottle),o.btnThrottle=setTimeout(o.onClickNext,400)})}return s(t,[{key:"getOverlay",value:function(){var t=document.querySelector(".discgolfmetrix-select-competitions-overlay");return t||(t=document.createElement("div"),t.setAttribute("class","discgolfmetrix-select-competitions-overlay"),document.body.insertBefore(t,null)),t}},{key:"setButtonStates",value:function(){0==this.activeCompetitionIdx?this.prevBtn.classList.add("disabled"):this.prevBtn.classList.remove("disabled"),this.activeCompetitionIdx==this.competitions.length-1?this.nextBtn.classList.add("disabled"):this.nextBtn.classList.remove("disabled")}}]),t}(),a=function(){var t=this;this.onDocumentClick=function(e){for(var n=e.target;null!==n;){if(t.options===n||t.selected===n)return;n=n.parentNode}t.close()},this.onSelect=function(e){t.close(),t.selectCompetition(e.target)},this.selectCompetition=function(e){t.selectedOption.textContent=e.innerHTML;for(var n=0;n<t.competitions.length;n++)t.competitions[n]===e?(t.activeCompetitionIdx=n,t.competitions[n].classList.add("active")):t.competitions[n].classList.remove("active");t.setButtonStates(),"function"==typeof t.onChange&&t.onChange(e.dataset.id)},this.open=function(){return t.isVisible(t.options)?t.close():(t.options.style.display="block",t.position(!0),void optimizedResize.add(t.position))},this.close=function(){t.options.style.display="none",t.overlay.style.display="none",optimizedResize.remove(t.position)},this.position=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.innerWidth<=640?(t.overlay.style.display="block",t.options.style.position="fixed",t.options.style.left="auto",t.options.style.top="auto",t.options.style.left=(Math.ceil(window.innerWidth)-t.options.offsetWidth)/2+"px",t.options.style.top=(Math.ceil(window.innerHeight)-t.options.offsetHeight)/2+"px"):(t.overlay.style.display="none",t.options.style.position="absolute",t.options.style.left="",t.options.style.top=""),t.prevWinWidth=window.innerWidth},this.isVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},this.onClickPrev=function(){t.selectCompetition(t.competitions[t.activeCompetitionIdx-1])},this.onClickNext=function(){t.selectCompetition(t.competitions[t.activeCompetitionIdx+1])}},i);e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(6),s=n(7),u=n(40),c=function(){function t(e,n,o){var i=e.container,a=e.select,s=this;r(this,t),this.onChange=function(t){s.dispatchAction((0,u.getMultiSelectValue)(t.target))},this.onBlur=function(){s.isAllSelected()&&s.dispatchAction(["all"]),s.close()},this.isAllSelected=function(){var t=s.state.filters.players.selected;return!Array.isArray(t)||!t.length||t.indexOf("all")>-1},this.onDocumentClick=function(t){for(var e=t.target;null!==e;){if(s.container.elm===e)return;e=e.parentNode}s.close()},this.container=i,this.select=a,this.store=o,document.addEventListener("mousedown",function(t){return s.onDocumentClick(t)}),document.addEventListener("touchend",function(t){return s.onDocumentClick(t)}),document.addEventListener("touchstart",function(t){return s.setState({touch:!0})}),this.setState(n)}return i(t,[{key:"setState",value:function(t){this.state=o({},this.state,t),this.render()}},{key:"render",value:function(){var t=this.state.filters.players,e=t.selected,n=t.lastChanged,r=this.isAllSelected(),o=((0,u.getDeepProp)(this.state,"data.filters.players")||[]).slice(0);o.sort(function(t,e){return t.Name.toLowerCase()>e.Name.toLowerCase()?1:t.Name.toLowerCase()<e.Name.toLowerCase()?-1:0});var i=this.open.bind(this),c=(0,a.html)("div",{key:"container",class:{"discgolfmetrix-results-filter-control-select-players":1,"no-options":!o.length,touch:this.state.touch},"on-click":i,"on-touchstart":i},(0,a.html)("select",{class:{placeholder:1,visible:!this.state.showMultiselect}},(0,a.html)("option",null,r?window.discgolfmetrixResults.l10n.all.players:1===e.length?e[0]:window.discgolfmetrixResults.l10n.multiple.players)),(0,a.html)("select",{key:"select-players",name:"players",multiple:!0,autoComplete:"off","on-change":this.onChange,"on-blur":this.onBlur,class:{visible:this.state.showMultiselect}},(0,a.html)("option",{key:"all",value:"all",selected:r},window.discgolfmetrixResults.l10n.all.players),o.map(function(t){var r=t.Name;return(0,a.html)("option",{key:r+"-"+(n||Date.now()),value:r,selected:e.indexOf(r)>-1},r)})));this.container instanceof Element&&(this.container.innerHTML=""),this.container=(0,s.patch)(this.container,c)}},{key:"open",value:function(){if(!this.state.showMultiselect){var t={showMultiselect:!0,hasOpened:!0};this.state.hasOpened||(t.filters=o({},this.state.filters,{players:o({},this.state.filters.players,{lastChanged:Date.now()})})),this.setState(t),document.querySelector(".discgolfmetrix-results-filter select.placeholder").blur()}}},{key:"close",value:function(){this.state.showMultiselect&&this.setState({showMultiselect:!1})}},{key:"dispatchAction",value:function(t){this.store.dispatch({type:"FILTER",payload:{players:{selected:t,lastChanged:Date.now()}}})}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=e instanceof Array?e:e.split(n);return r.reduce(function(t,e){return t?t[e]:t},t)}function i(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if("undefined"!=typeof n&&e.length){var o=e instanceof Array?e:e.split(r);o.length>1?("undefined"==typeof t[o[0]]&&(t[o[0]]="number"==typeof o[1]?[]:{}),i(t[o[0]],o.slice(1),n)):t[o[0]]=n}return t}function a(t){return t.reduce(function(t,e){var n=parseFloat(e);return isNaN(n)?t:t+n},0)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)e[n]="object"==l(t[n])&&null!==t[n]?s(t[n],t[n].constructor()):t[n];return e}function u(t){return(t.selectedOptions?[].concat(r(t.selectedOptions)):[].concat(r(t.options)).filter(function(t){return t.selected})).map(function(t){return t.value})}function c(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getDeepProp=o,e.setDeepProp=i,e.arraySum=a,e.deepCopy=s,e.getMultiSelectValue=u,e.getIOSVer=c,n(41)},function(t,e,n){n(42),n(86),t.exports=n(50).Array.from},function(t,e,n){"use strict";var r=n(43)(!0);n(46)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(44),o=n(45);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(47),o=n(48),i=n(61),a=n(51),s=n(62),u=n(66),c=n(67),l=n(82),f=n(84),p=n(83)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",y="keys",m="values",v=function(){return this};t.exports=function(t,e,n,g,b,w,x){c(n,e,g);var S,_,E,O=function(t){if(!d&&t in j)return j[t];switch(t){case y:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",N=b==m,k=!1,j=t.prototype,C=j[p]||j[h]||b&&j[b],P=C||O(b),R=b?N?O("entries"):P:void 0,I="Array"==e?j.entries||C:C;if(I&&(E=f(I.call(new t)),E!==Object.prototype&&E.next&&(l(E,T,!0),r||s(E,p)||a(E,p,v))),N&&C&&C.name!==m&&(k=!0,P=function(){return C.call(this)}),r&&!x||!d&&!k&&j[p]||a(j,p,P),u[e]=P,u[T]=v,b)if(S={values:N?P:O(m),keys:w?P:O(y),entries:R},x)for(_ in S)_ in j||i(j,_,S[_]);else o(o.P+o.F*(d||k),e,S);return S}},function(t,e){t.exports=!1},function(t,e,n){var r=n(49),o=n(50),i=n(51),a=n(61),s=n(64),u="prototype",c=function(t,e,n){var l,f,p,d,h=t&c.F,y=t&c.G,m=t&c.S,v=t&c.P,g=t&c.B,b=y?r:m?r[e]||(r[e]={}):(r[e]||{})[u],w=y?o:o[e]||(o[e]={}),x=w[u]||(w[u]={});y&&(n=e);for(l in n)f=!h&&b&&void 0!==b[l],p=(f?b:n)[l],d=g&&f?s(p,r):v&&"function"==typeof p?s(Function.call,p):p,b&&a(b,l,p,t&c.U),w[l]!=p&&i(w,l,d),v&&x[l]!=p&&(x[l]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(52),o=n(60);t.exports=n(56)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(53),o=n(55),i=n(59),a=Object.defineProperty;e.f=n(56)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(54);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(56)&&!n(57)(function(){return 7!=Object.defineProperty(n(58)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(57)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(54),o=n(49).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(54);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(49),o=n(51),i=n(62),a=n(63)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(50).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(65);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(68),o=n(60),i=n(82),a={};n(51)(a,n(83)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(53),o=n(69),i=n(80),a=n(78)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(58)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(81).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(52),o=n(53),i=n(70);t.exports=n(56)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(71),o=n(80);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(62),o=n(72),i=n(75)(!1),a=n(78)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(73),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(74);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(72),o=n(76),i=n(77);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(44),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(44),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(79)("keys"),o=n(63);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(49),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(49).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(52).f,o=n(62),i=n(83)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(79)("wks"),o=n(63),i=n(49).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){var r=n(62),o=n(85),i=n(78)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(45);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(64),o=n(48),i=n(85),a=n(87),s=n(88),u=n(76),c=n(89),l=n(90);o(o.S+o.F*!n(92)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,m=void 0!==y,v=0,g=l(p);if(m&&(y=r(y,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(e=u(p.length),n=new d(e);e>v;v++)c(n,v,m?y(p[v],v):p[v]);else for(f=g.call(p),n=new d;!(o=f.next()).done;v++)c(n,v,m?a(f,y,[o.value,v],!0):o.value);return n.length=v,n}})},function(t,e,n){var r=n(53);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(66),o=n(83)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(52),o=n(60);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(91),o=n(83)("iterator"),i=n(66);t.exports=n(50).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(74),o=n(83)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(83)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(94),n(98),n(112);var c=n(6),l=n(129),f=r(l),p=n(7),d=n(40),h='<svg width="100%" height="100%" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="'+window.discgolfmetrixResults.profile_link_icon_path+'"/></svg>',y="$___NO_CLASS",m={BUE:{type:Boolean,totalFmt:"percent"},GRH:{type:Boolean,totalFmt:"percent"},OCP:{type:Boolean,totalFmt:"sum"},ICP:{type:Number,totalFmt:"percent"},IBP:{type:Boolean,totalFmt:"sum"},PEN:{type:Number,totalFmt:"sum"}},v=function(t){return(parseFloat(t)>0?"+":"")+t},g=function(){function t(e,n,r){i(this,t),this.toggleResultsExtra=function(t,e){if(e.preventDefault(),t){for(var n=e.target;"TR"!==n.tagName;)n=n.parentNode;n.classList.contains("expanded")?(n.parentNode.classList.remove("expanded"),n.classList.remove("expanded")):(n.parentNode.classList.add("expanded"),n.classList.add("expanded"))}},this.el=e,this.onChange=r,this.competitionID=null,this.iOSVer=(0,d.getIOSVer)(),this.setState(n)}return u(t,[{key:"setState",value:function(t){this.state=t,this.render()}},{key:"render",value:function(){var t=(0,d.getDeepProp)(this.state,"data.results"),e=t.Competition,n=e.ShowTourView?this.getTourSummaryTable(e):this.getCompetitionResultsTable(e);this.el instanceof Element&&(this.el.innerHTML=""),this.el=(0,p.patch)(this.el,n)}},{key:"getCompetitionResultsTable",value:function(t){var e=this,n=!!(t.SubCompetitions||[]).length,r=!n&&t.hasOwnProperty("MetrixMode")&&2==t.MetrixMode,o=t.hasOwnProperty("ShowPreviousRoundsSum")&&!!parseInt(t.ShowPreviousRoundsSum,10);this.competitionID!=t.ID&&(this.playersByClasses=this.getPlayersByClasses(this.aggregateResults()),this.orderPlayersByTotalScore(),this.rankPlayers(),this.competitionID=t.ID);var i=0,a=n?3:2,s=this.filterPlayers();return(0,c.html)("div",{className:"discgolfmetrix-results-table "+(this.iOSVer?"ios":""),class:{loading:this.state.loading}},(0,c.html)("div",{className:"discgolfmetrix-results-table-container table-scroll table-responsive"},(0,c.html)("table",{key:t.ID},(0,c.html)("colgroup",null,(0,c.html)("col",{width:"1%"}),(0,c.html)("col",{width:"100%"})),(0,c.html)("thead",null,(0,c.html)("tr",{className:"hole"},(0,c.html)("th",{className:"hole",colSpan:a}),this.state.data.results.Competition.Tracks.map(function(t,e){var n=t.Number;return(0,c.html)("th",null,n)}),(0,c.html)("th",null,window.discgolfmetrixResults.l10n.sum),(0,c.html)("th",null,window.discgolfmetrixResults.l10n.to_par),n||o?[(0,c.html)("th",null),(0,c.html)("th",null)]:""),(0,c.html)("tr",{className:"par"},(0,c.html)("th",{className:"par",colSpan:a},window.discgolfmetrixResults.l10n.par),this.state.data.results.Competition.Tracks.map(function(t,e){var n=t.Par;return i+=parseInt(n,10),(0,c.html)("th",null,n)}),(0,c.html)("th",null,i),(0,c.html)("th",null),n||o?[(0,c.html)("th",null),(0,c.html)("th",null)]:"")),s.order.map(function(i){return[i!=y&&s.byName[i].order.length?(0,c.html)("thead",{key:t.ID+"/"+i},(0,c.html)("tr",{className:"class"},(0,c.html)("th",{className:"class",colSpan:t.Tracks.length+(n?7:o?6:4)},i+" ("+e.playersByClasses.byName[i].order.length+")"))):"",s.byName[i].order.map(function(a,u){var l=s.byName[i].byName[a],p=Object.keys(l.PlayerResults),y=n&&r?p.length+p.length*Object.keys(m).length:p.length,g=(0,d.arraySum)(Object.values(l.Sum)),b=(0,d.arraySum)(Object.values(l.Diff)),w=t.ID+"/"+(l.UserID||l.Name);return(0,c.html)("tbody",{key:w},p.map(function(t,i){var a=(0,c.html)("tr",{key:w+"/"+t,"on-click":e.toggleResultsExtra.bind(e,r)},0!==i?"":[(0,c.html)("td",{key:[w,t,"standing"].join("/"),className:"standing",rowSpan:y},l.standing),(0,c.html)("td",{key:[w,t,"player"].join("/"),className:"player",rowSpan:y,title:l.Name},(0,c.html)("div",null,r?(0,c.html)("a",{className:"expand-metrix","on-click":function(t){return t.preventDefault()},href:"#"},(0,c.html)("i",null)," ",l.Name):l.Name,l.hasOwnProperty("UserID")?(0,c.html)("a",{className:"profile-link",target:"_blank",href:"https://dgmtrx.com/?u=player_stat&player_user_id="+l.UserID},(0,f.default)("span",{props:{innerHTML:h}})):""))],n?e.getSubcompetitionCell(t):"",l.PlayerResults[t].map(function(n,r){return e.getScoreCell(l,t,n,r)}),(0,c.html)("td",{className:"sum"},l.Sum[t]),(0,c.html)("td",{className:"diff"},v(l.Diff[t])),n&&0===i?[(0,c.html)("td",{key:[w,t,"sum"].join("/"),className:"sum",rowSpan:y},g),(0,c.html)("td",{key:[w,t,"diff"].join("/"),className:"diff",rowSpan:y},v(b))]:o?[(0,c.html)("td",{key:[w,t,"sum"].join("/"),className:"sum",rowSpan:y},l.PreviousRoundsSum),(0,c.html)("td",{key:[w,t,"diff"].join("/"),className:"diff",rowSpan:y},v(l.PreviousRoundsDiff))]:"");return r?[a].concat(e.getExtraRows(l,t,n,o)):a}))})]}))),(0,c.html)("span",{className:"spinner"},(0,c.html)("i",null),(0,c.html)("i",null)))}},{key:"getTourSummaryTable",value:function(t){var e=this;this.competitionID!=t.ID&&(this.playersByClasses=this.getPlayersByClasses(this.aggregateResults()),this.competitionID=t.ID);var n=this.filterPlayers();return(0,c.html)("div",{className:"discgolfmetrix-results-table "+(this.iOSVer?"ios":""),class:{loading:this.state.loading}},(0,c.html)("div",{className:"discgolfmetrix-results-table-container table-scroll table-responsive"},(0,c.html)("table",{key:t.ID},(0,c.html)("colgroup",null,(0,c.html)("col",{width:"1%"}),(0,c.html)("col",{width:"100%"})),(0,c.html)("thead",null,(0,c.html)("tr",{className:"tour-head"},(0,c.html)("th",null),(0,c.html)("th",null),t.Events.map(function(t){return(0,c.html)("th",null,(0,c.html)("a",{target:"_blank",href:"https://dgmtrx.com/?u=player_stat&player_user_id="+t.ID,"on-click":function(n){n.preventDefault(),"function"==typeof e.onChange&&e.onChange(t.ID,!0)}},t.Name))}),(0,c.html)("th",null,window.discgolfmetrixResults.l10n.total))),n.order.map(function(r){return[r!=y&&n.byName[r].order.length?(0,c.html)("thead",{key:t.ID+"/"+r},(0,c.html)("tr",{className:"class"},(0,c.html)("th",{className:"class",colSpan:t.Events.length+3},r+" ("+e.playersByClasses.byName[r].order.length+")"))):"",n.byName[r].order.map(function(e,o){var i=n.byName[r].byName[e],a=t.ID+"/"+(i.UserID||i.Name);return(0,c.html)("tbody",{key:a},(0,c.html)("tr",null,(0,c.html)("td",{className:"standing"},i.Place),(0,c.html)("td",{className:"player"},i.hasOwnProperty("UserID")?(0,c.html)("a",{target:"_blank",href:"https://dgmtrx.com/?u=player_stat&player_user_id="+i.UserID},i.Name):i.Name),t.Events.map(function(t,e){return(0,c.html)("td",null,"number"==typeof i.EventResults[e]||"string"==typeof i.EventResults[e]?i.EventResults[e]:"")}),(0,c.html)("td",{className:"total"},i.Total)))})]}))),(0,c.html)("span",{className:"spinner"},(0,c.html)("i",null),(0,c.html)("i",null)))}},{key:"aggregateResults",value:function(){var t={byName:{},order:[]},e=function e(n){var i=!!r.ShowTourView,a=n.Date+"T"+n.Time,u=i?n.TourResults:n.Results;(u||[]).forEach(function(e){t.byName.hasOwnProperty(e.Name)||(t.byName[e.Name]=s({},e),i||(t.byName[e.Name].Sum={},t.byName[e.Name].Diff={},t.byName[e.Name].PlayerResults=o({},a,[])),t.order.push(e.Name)),i||(t.byName[e.Name].Sum[a]=e.Sum,t.byName[e.Name].Diff[a]=e.Diff,t.byName[e.Name].PlayerResults[a]=[],(e.PlayerResults||[]).forEach(function(n){return t.byName[e.Name].PlayerResults[a].push(n)}))}),n.SubCompetitions&&(n.SubCompetitions||[]).length&&n.SubCompetitions.forEach(e)},n=(0,d.getDeepProp)(this.state,"data.results"),r=n.Competition;return r&&e(r),t}},{key:"getPlayersByClasses",value:function(t){return t.order.reduce(function(e,n){var r=t.byName[n].ClassName||y;return e.byName.hasOwnProperty(r)||(e.byName[r]={byName:{},order:[]},e.order.push(r)),e.byName[r].byName[n]=t.byName[n],e.byName[r].order.push(n),e},{byName:{},order:[]})}},{key:"orderPlayersByTotalScore",value:function(){var t=this,e=(0,d.getDeepProp)(this.state,"data.results"),n=e.Competition;if(n&&this.playersByClasses){var r=(Array.isArray(n.SubCompetitions)?n.SubCompetitions.length:0)+(Array.isArray(n.Results)&&n.Results.length?1:0),o=function(t){return"[object Object]"!={}.toString.call(t.PlayerResults)||Object.keys(t.PlayerResults).length<r},i=function(t){for(var e in t.PlayerResults){var n=!0,r=!1,o=void 0;try{for(var i,a=t.PlayerResults[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if("[object Object]"!={}.toString.call(s)||!s.hasOwnProperty("Result"))return!0}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}return!1},a=n.hasOwnProperty("ShowPreviousRoundsSum")&&parseInt(n.ShowPreviousRoundsSum,10)?"PreviousRoundsDiff":"Diff",s=function(t){return"[object Object]"=={}.toString.call(t)?(0,d.arraySum)(Object.values(t)):t};this.playersByClasses.order.forEach(function(e){var n=t.playersByClasses.byName[e];n.order.sort(function(t,e){var r=n.byName[t],u=n.byName[e];return!i(r)&&i(u)?-1:i(r)&&!i(u)?1:!o(r)&&o(u)?-1:o(r)&&!o(u)?1:s(r[a])<s(u[a])?-1:s(r[a])>s(u[a])?1:n.order.indexOf(t)<n.order.indexOf(e)?-1:n.order.indexOf(t)>n.order.indexOf(e)?1:0})})}}},{key:"rankPlayers",value:function(){var t=this,e=(0,d.getDeepProp)(this.state,"data.results"),n=e.Competition;if(n&&this.playersByClasses){var r=n.hasOwnProperty("ShowPreviousRoundsSum")&&parseInt(n.ShowPreviousRoundsSum,10)?"PreviousRoundsDiff":"Diff";this.playersByClasses.order.forEach(function(e){var n=0,o=0;t.playersByClasses.byName[e].order.forEach(function(i){var a=t.playersByClasses.byName[e].byName[i],s="[object Object]"=={}.toString.call(a[r])?(0,d.arraySum)(Object.values(a[r])):a[r];s!=o&&n++,o=s,a.standing=n})})}}},{key:"filterPlayers",value:function(){var t=this,e=(0,d.deepCopy)(this.playersByClasses),n={players:"Name",classes:"ClassName",groups:"Group"},r=function(e){return"players"!=e?"all"!=t.state.filters[e]:Array.isArray(t.state.filters.players.selected)&&t.state.filters.players.selected.indexOf("all")<0},o=function(o){if(r(o))return e.order.forEach(function(r){var i=e.byName[r];i.order=i.order.filter(function(e){var r=i.byName[e][n[o]];return"players"!=o?t.state.filters[o]==r:Array.isArray(t.state.filters.players.selected)&&t.state.filters.players.selected.indexOf(r)>-1}),e.byName[r]=i}),"break"};for(var i in this.state.filters){var a=o(i);if("break"===a)break}return e}},{key:"getSubcompetitionCell",value:function(t){var e=t.split("T"),n=a(e,2),r=n[0],o=n[1],i=r.split("-"),s=a(i,3),u=s[0],l=s[1],f=s[2],p=o.split(":"),d=a(p,2),h=d[0],y=d[1],m=l+"/"+f+"/"+u+" "+h+":"+y;return(0,c.html)("td",null,m)}},{key:"getScoreCell",value:function(t,e,n,r){var o=this.state.data.results.Competition,i=(0,d.getDeepProp)(o,["Tracks",r,"Number"])||r+1,a=[o.ID,t.UserID||t.Name,e,"hole-"+i+"score"].join("/"),s=this.getScoreClass(n),u=[i,n.Diff,s.title,s.isOB?window.discgolfmetrixResults.l10n.score_tooltip_ob.replace(/&#013;/g,"\n"):""],l=-1,f=window.discgolfmetrixResults.l10n.score_tooltip.replace(/&#013;/g,"\n").replace(/%s/g,function(){return l++,u[l]});return(0,c.html)("td",{key:a,className:s.class,title:f},n.Result||"")}},{key:"getScoreClass",value:function(t){var e=t.Result,n=t.Diff,r=t.OB,o=void 0,i=!!Number(r),a=i?" ob":"";if("undefined"==typeof e)o="no-score";else if(1==e)o="hole-in-one";else switch(n){case-2:o="eagle";break;case-1:o="birdie";break;case 0:o="par";break;case 1:o="bogey";break;case 2:o="double-bogey";break;default:o=n<-2?"eagle":"fail"}return{title:window.discgolfmetrixResults.l10n.score_terms[o],isOB:i,class:o+a}}},{key:"getExtraRows",value:function(t,e,n,r){var o=this,i=this.state.data.results.Competition;return Object.keys(m).map(function(a){var s=[i.ID,e,t.UserID||t.Name,a].join("/");return(0,c.html)("tr",{key:s,className:"extra "+a.toLowerCase()},(0,c.html)("td",{colSpan:n?1:2},window.discgolfmetrixResults.l10n.extra[a]),t.PlayerResults[e].map(function(t,e){return(0,c.html)("td",{key:s+"/"+e},o.getExtraNotation(t,a))}),(0,c.html)("td",{colSpan:"2"},t[("PEN"==a?"Penalties":a)+"Total"]||""),n||!r?"":(0,c.html)("td",{colSpan:"2"},t["PreviousRounds"+("PEN"==a?"Penalties":a)]||""))})}},{key:"getExtraNotation",value:function(t,e){var n=parseInt(t[e],10);switch(m[e].type){case Boolean:return n?"":"";case Number:default:return n?n:""}}}]),t}();e.default=g},function(t,e,n){n(95),t.exports=n(50).Object.values},function(t,e,n){var r=n(48),o=n(96)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var r=n(70),o=n(72),i=n(97).f;t.exports=function(t){return function(e){for(var n,a=o(e),s=r(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){n(99),n(109),n(110),n(111),t.exports=n(50).Symbol},function(t,e,n){"use strict";var r=n(49),o=n(62),i=n(56),a=n(48),s=n(61),u=n(100).KEY,c=n(57),l=n(79),f=n(82),p=n(63),d=n(83),h=n(101),y=n(102),m=n(103),v=n(105),g=n(53),b=n(72),w=n(59),x=n(60),S=n(68),_=n(106),E=n(108),O=n(52),T=n(70),N=E.f,k=O.f,j=_.f,C=r.Symbol,P=r.JSON,R=P&&P.stringify,I="prototype",A=d("_hidden"),F=d("toPrimitive"),D={}.propertyIsEnumerable,M=l("symbol-registry"),L=l("symbols"),B=l("op-symbols"),U=Object[I],H="function"==typeof C,q=r.QObject,W=!q||!q[I]||!q[I].findChild,z=i&&c(function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=N(U,e);r&&delete U[e],k(t,e,n),r&&t!==U&&k(U,e,r)}:k,V=function(t){var e=L[t]=S(C[I]);return e._k=t,e},G=H&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},Q=function(t,e,n){return t===U&&Q(B,e,n),g(t),e=w(e,!0),g(n),o(L,e)?(n.enumerable?(o(t,A)&&t[A][e]&&(t[A][e]=!1),n=S(n,{enumerable:x(0,!1)})):(o(t,A)||k(t,A,x(1,{})),t[A][e]=!0),z(t,e,n)):k(t,e,n)},J=function(t,e){g(t);for(var n,r=m(e=b(e)),o=0,i=r.length;i>o;)Q(t,n=r[o++],e[n]);return t},K=function(t,e){return void 0===e?S(t):J(S(t),e)},X=function(t){var e=D.call(this,t=w(t,!0));return!(this===U&&o(L,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(L,t)||o(this,A)&&this[A][t])||e);
},Y=function(t,e){if(t=b(t),e=w(e,!0),t!==U||!o(L,e)||o(B,e)){var n=N(t,e);return!n||!o(L,e)||o(t,A)&&t[A][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=j(b(t)),r=[],i=0;n.length>i;)o(L,e=n[i++])||e==A||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===U,r=j(n?B:b(t)),i=[],a=0;r.length>a;)!o(L,e=r[a++])||n&&!o(U,e)||i.push(L[e]);return i};H||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(B,n),o(this,A)&&o(this[A],t)&&(this[A][t]=!1),z(this,t,x(1,n))};return i&&W&&z(U,t,{configurable:!0,set:e}),V(t)},s(C[I],"toString",function(){return this._k}),E.f=Y,O.f=Q,n(107).f=_.f=$,n(97).f=X,n(104).f=Z,i&&!n(47)&&s(U,"propertyIsEnumerable",X,!0),h.f=function(t){return V(d(t))}),a(a.G+a.W+a.F*!H,{Symbol:C});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=T(d.store),rt=0;nt.length>rt;)y(nt[rt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return o(M,t+="")?M[t]:M[t]=C(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:K,defineProperty:Q,defineProperties:J,getOwnPropertyDescriptor:Y,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!H||c(function(){var t=C();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&v(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,R.apply(P,r)}}}),C[I][F]||n(51)(C[I],F,C[I].valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(63)("meta"),o=n(54),i=n(62),a=n(52).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(57)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){e.f=n(83)},function(t,e,n){var r=n(49),o=n(50),i=n(47),a=n(101),s=n(52).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(70),o=n(104),i=n(97);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(74);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(72),o=n(107).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(71),o=n(80).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(97),o=n(60),i=n(72),a=n(59),s=n(62),u=n(55),c=Object.getOwnPropertyDescriptor;e.f=n(56)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r=n(91),o={};o[n(83)("toStringTag")]="z",o+""!="[object z]"&&n(61)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){n(102)("asyncIterator")},function(t,e,n){n(102)("observable")},function(t,e,n){n(109),n(113),n(116),t.exports=n(50).WeakMap},function(t,e,n){"use strict";var r=n(114),o=n(115),i=n(66),a=n(72);t.exports=n(46)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(83)("unscopables"),o=Array.prototype;void 0==o[r]&&n(51)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,o=n(117)(0),i=n(61),a=n(100),s=n(120),u=n(121),c=n(54),l=n(57),f=n(125),p="WeakMap",d=a.getWeak,h=Object.isExtensible,y=u.ufstore,m={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(c(t)){var e=d(t);return e===!0?y(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,p),t,e)}},b=t.exports=n(126)(p,v,g,u,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(m),7).get(m)})&&(r=u.getConstructor(v,p),s(r.prototype,g),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];i(e,t,function(e,o){if(c(e)&&!h(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return"set"==t?this:i}return n.call(this,e,o)})}))},function(t,e,n){var r=n(64),o=n(73),i=n(85),a=n(76),s=n(118);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,d=e||s;return function(e,s,h){for(var y,m,v=i(e),g=o(v),b=r(s,h,3),w=a(g.length),x=0,S=n?d(e,w):u?d(e,0):void 0;w>x;x++)if((p||x in g)&&(y=g[x],m=b(y,x,v),t))if(n)S[x]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:S.push(y)}else if(l)return!1;return f?-1:c||l?l:S}}},function(t,e,n){var r=n(119);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(54),o=n(105),i=n(83)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(70),o=n(104),i=n(97),a=n(85),s=n(73),u=Object.assign;t.exports=!u||n(57)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),y=h.length,m=0;y>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:u},function(t,e,n){"use strict";var r=n(122),o=n(100).getWeak,i=n(53),a=n(54),s=n(123),u=n(124),c=n(117),l=n(62),f=n(125),p=c(5),d=c(6),h=0,y=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return p(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=h++,t._l=void 0,void 0!=r&&u(r,n,t[i],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return n===!0?y(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return n===!0?y(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=o(i(e),!0);return r===!0?y(t).set(e,n):r[t._i]=n,t},ufstore:y}},function(t,e,n){var r=n(61);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(64),o=n(87),i=n(88),a=n(53),s=n(76),u=n(90),c={},l={},e=t.exports=function(t,e,n,f,p){var d,h,y,m,v=p?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(d=s(t.length);d>b;b++)if(m=e?g(a(h=t[b])[0],h[1]):g(t[b]),m===c||m===l)return m}else for(y=v.call(t);!(h=y.next()).done;)if(m=o(y,g,h.value,e),m===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(54);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(49),o=n(48),i=n(61),a=n(122),s=n(100),u=n(124),c=n(123),l=n(54),f=n(57),p=n(92),d=n(82),h=n(127);t.exports=function(t,e,n,y,m,v){var g=r[t],b=g,w=m?"set":"add",x=b&&b.prototype,S={},_=function(t){var e=x[t];i(x,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||x.forEach&&!f(function(){(new b).entries().next()}))){var E=new b,O=E[w](v?{}:-0,1)!=E,T=f(function(){E.has(1)}),N=p(function(t){new b(t)}),k=!v&&f(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});N||(b=e(function(e,n){c(e,b,t);var r=h(new g,e,b);return void 0!=n&&u(n,m,r[w],r),r}),b.prototype=x,x.constructor=b),(T||k)&&(_("delete"),_("has"),m&&_("get")),(k||O)&&_(w),v&&x.clear&&delete x.clear}else b=y.getConstructor(e,t,m,w),a(b.prototype,n),s.NEED=!0;return d(b,t),S[t]=b,o(o.G+o.W+o.F*(b!=g),S),v||y.setStrong(b,t,m),b}},function(t,e,n){var r=n(54),o=n(128).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){var r=n(54),o=n(53),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(64)(Function.call,n(108).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){function r(t,e,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==e)for(var o=0;o<e.length;++o)r(e[o].data,e[o].children,e[o].sel)}var o=n(9),i=n(10);t.exports=function(t,e,n){var a,s,u,c={};if(void 0!==n?(c=e,i.array(n)?a=n:i.primitive(n)&&(s=n)):void 0!==e&&(i.array(e)?a=e:i.primitive(e)?s=e:c=e),i.array(a))for(u=0;u<a.length;++u)i.primitive(a[u])&&(a[u]=o(void 0,void 0,void 0,a[u]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&r(c,a,t),o(t,c,a,s,void 0)}}]);
//# sourceMappingURL=discgolfmetrix-results.js.map